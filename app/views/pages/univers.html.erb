<div class="test-home-page">

  <svg class="textsvg" xmlns="http://www.w3.org/2000/svg" xml:lang="en"
  xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500">
    <title>Circular Text Path</title>

    <defs>
        <path id="textcircle"
            d="M250,400
                a150,150 0 0,1 0,-300a150,150 0 0,1 0,300Z"
            transform="rotate(12,250,250)"/>
    </defs>
    <rect width="100%" height="100%" fill="none" />
    <text>
        <textPath xlink:href="#textcircle"
                aria-label="All for One &amp; One for All"
                textLength="942">MERLIMONT -TERRE D'OPALE-</textPath>
    </text>
  </svg>

  <div class="test-home-container">

    <div class="test-home-first-div">

      <div class="test-nav">
        <div class="test-nav-left">
          <!-- <%= link_to "Merlimont", "#" %> -->
          <%= link_to root_path do %>
            <%= image_tag('home/MerlimontB.png') %>
          <% end %>
        </div>

        <div class="test-nav-right">
          <%= link_to "Galerie", galerie_path %>
          <%= link_to "Faune & Flore", fauneflore_path(anchor: 'top-of-page'), data: { turbo: false } %>
          <%= link_to "Il etait une fois", merlimontdavant_path %>
          <%= link_to "A propos", about_path, data: { turbo: false } %>
        </div>

      </div>

      <div class="svg-container">
        <svg>
          <clipPath id="text-overlay">
            <path  d="M565.5 334.502L32.5002 1025.5C32.5002 1025.5 -4.49999 1087.5 1.5002 1137.5C3.50001 1165.5 8.8371 1185.9 32.5002 1191.5C59 1187 67.1648 1169.77 85.0002 1151C108 1114 114.5 1107.5 136 1062C174 990 145 1043 240.5 889.5C418.009 604.184 742.5 272 742.5 272C742.5 272 796.5 205 835 218C862.5 232.5 825 311.5 825 311.5C740 504.5 648 743.5 648 743.5C592.5 881.5 661.5 881.5 661.5 881.5C661.5 881.5 716 913 788 790C865.5 666.5 1127.5 378 1209.5 351.5C1241 351.5 1220.5 383.5 1220.5 383.5C949 1091.5 1218.5 1135 1218.5 1135C1394 1171 1556.5 996 1556.5 996C1593.5 956.5 1619.05 930.192 1628 911.5C1655 813.5 1501.5 949 1501.5 949C1382 1043 1339.5 1043 1339.5 1043C1212.5 1040.5 1264.5 778.5 1264.5 778.5C1336 474.5 1454.5 259.5 1454.5 259.5C1498 169 1410.5 184.5 1410.5 184.5C1167.5 225 923 523 923 523C923 523 919.5 528.5 908 526C896.5 523.5 898.5 514.5 898.5 514.5C912.5 467.5 989 272 989 272C1100.5 18 978 6.00153 978 6.00153C877.5 -46.9986 565.5 334.502 565.5 334.502Z" fill="black" stroke="black"/>
            <path d="M1690 696.5C1705.07 597.064 1637.5 495.5 1529 495.5C1420.5 495.5 1347.76 569.939 1346.5 668C1345.22 767.277 1429.88 850.727 1529 845C1614.39 840.066 1677.18 781.07 1690 696.5Z" fill="black" stroke="black"/>
          </clipPath>
        </svg>
      </div>


      <div class="videocontainer">
        <div class="wrapperr" id="lem">
          <video class="clipped-video" muted loop autoplay>
            <source src="https://design2seo.com/assets/blog/svg-clipping/video_waves3.mp4"></source>
          </video>
        </div>
      </div>


      <div class="home-dunes">
        <%= image_tag('home/home_dunes.svg') %>
      </div>

      <div class="home-bas-dunes">
        <div class="home-petite-trace-container">
          <%= image_tag('home/home_petite_trace.svg') %>
        </div>
      </div>

    </div>

    <div class="test-home-seconde-div">

      <div class="home-traces">
        <%= image_tag('home/home_trace.svg') %>
      </div>

      <div class="test-home-title-container">
        <div class="home-presentation-title-shadow">
          <div class="home-presentation-parasol-container">
            <h1>Merlimont</h1>
            <div class="home-presentation-parasol">
              <%= image_tag('home/parasol.svg') %>
            </div>
          </div>
        </div>
        <h1>Merlimont</h1>
      </div>

      <div class="test-home-seconde-div-text-img-container">

        <div class="test-home-seconde-div-text-container">
          <p>Nichée entre dunes sauvages et plages de sable fin, Merlimont est une destination côtière idyllique où le charme authentique de la côte d'Opale rencontre la tranquillité et la beauté naturelle.</p>
          <%= image_tag('testhome/testtraittrois.png') %>

        </div>

        <div class="test-home-seconde-div-img-container">
          <div class="test-home-seconde-div-img-content">
            <%= image_tag('testhome/testcoeurquatre.png') %>
          </div>
        </div>

      </div>

      <div class="home-activites-vague-haut">
        <%= image_tag('home/home_vague_haut.png') %>
        <div class="wave"></div>
      </div>

    </div>

    <div class="test-home-third-div">
      <div class="test-home-title-container">
        <div class="home-presentation-title-shadow">
          <div class="home-presentation-parasol-container">
            <h1>Activités</h1>
            <div class="home-presentation-parasol">
              <%= image_tag('testhome/kite.png') %>
            </div>
          </div>
        </div>
        <h1>Activités</h1>
      </div>
    </div>



  </div>
</div>

<script type="text/javascript">
    let lem = document.getElementById("lem");

    window.addEventListener('scroll', function(){
        var value = window.scrollY;
        lem.style.top = value * 0.8 + 'px';
    })
</script>



<script>

  const circleSvg = document.querySelector('.textsvg')
  const btn = document.querySelector('button')

  let mouseX = 0
  let mouseY = 0
  //let intv = 0

  window.addEventListener('mousemove', (event) => {
      // circleSvg.style.top = event.clientY - 45;
      // circleSvg.style.left = event.clientX - 45;

      mouseY = (event.clientY) - (45)
      mouseX = (event.clientX) - (45)

  })

  let scrollY = 0

  window.addEventListener('scroll', (event) => {
      // circleSvg.style.top = event.clientY - 45;
      // circleSvg.style.left = event.clientX - 45;

      scrollY =  window.scrollY
      console.log(scrollY)

  })





  const mouseMove = () => {
      //intv += 1

      circleSvg.style.top = mouseY + scrollY + 'px'
      circleSvg.style.left = mouseX + 'px'


      //circleSvg.style.opacity = 1 + Math.sin(intv * .04)
      //console.log(Math.sin(intv * .04))

      window.requestAnimationFrame(mouseMove)
  }

  mouseMove()





  var tl = gsap.timeline({defaults: {ease: "power2.inOut"}})

  tl.to(circleSvg, {width: 0, opacity: 0})
  tl.to('body, button', {background: 'white'})
  tl.pause()

  btn.addEventListener('click', () => {
      tl.play()
  })

</script>
